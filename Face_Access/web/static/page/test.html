<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../layui/css/layui.css">
    <script src="../layui/layui.js"></script>
    <script src="../js/jquery-3.3.1.js"></script>
    <style>

    </style>
</head>
<body>

<script>
    var timeCount = 5;
    layui.use(['jquery', 'laypage', 'table', 'layer', 'element', 'laydate'], function () {
        var $ = layui.$, laypage = layui.laypage
            , table = layui.table, layer = layui.layer
            , element = layui.element, laydate = layui.laydate;
        table.render({
            elem: '#userTable'
            , url: '/Authorities'
            , page: true
            , cols: [[
                {field: 'houseId', title: '房间 ID', align: "center"}
                , {field: 'userName', title: '用户名', align: "center"}
                , {field: 'remark', title: '备注', align: "center"}
                , {field: 'startDate', title: '授权日期', align: "center"}
                , {field: 'endDate', title: '失效日期', align: "center"}
                , {fixed: 'right', title: '操作', align: 'center', toolbar: '#toolBar'}
            ]]
            , id: "userTable"
        });
        $("#test").click(function () {

            var elem = $("#test");

            console.info(elem.text() + "-" + elem.val());

            //不可点击
            $(this).attr('disabled', true);
            console.info("begin");

            //倒计时开始
            var id = setInterval(function () {
                console.info("1 Second Past " + timeCount + " Left");
                timeCount--;
            }, 1000);

            //倒计时结束 可以点击
            setTimeout(function () {
                clearInterval(id);
                $("#test").attr('disabled', false);
                console.info("finished");
                console.info(timeCount);
                timeCount = 5;

            }, 5000);


        });

    })

</script>
</body>
</html>